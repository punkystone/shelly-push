services:
  shelly-push:
    container_name: shelly-push
    build:
      context: .
      dockerfile: Dockerfile
    restart: always
    environment:
       - SHELLY_MQTT_TOPIC
       - SHELLY_FIREBASE_TOPIC
       - BATTERY_MQTT_TOPIC
       - BATTERY_FIREBASE_TOPIC
       - FIREBASE_PROJECT_ID
       - FIREBASE_KEY_PATH
       - MQTT_URL
       - MQTT_CLIENT_ID
       - TS_HOSTNAME
       - TS_AUTH_KEY
       - TS_CONTROL_URL
    volumes:
      - ./key.json:/key.json
      - ./ts-data:/var/lib/tsnet
